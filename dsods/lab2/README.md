# Лаба 2

## Задание

Вариант: `31253`

### Этап 1. Инициализация кластера БД

- Директория кластера: `$HOME/uwo39`
- Кодировка: `KOI8-R`
- Локаль: `русская`
- Параметры инициализации задать через переменные окружения

### Этап 2. Конфигурация и запуск сервера БД

- Способы подключения:
  1) Unix-domain сокет в режиме peer
  2) сокет TCP/IP, принимать подключения к любому IP-адресу узла
- Номер порта: `9253`
- Способ аутентификации TCP/IP клиентов: по паролю SHA-256
- Остальные способы подключений запретить.
- Настроить следующие параметры сервера БД:
  - `max_connections`
  - `shared_buffers`
  - `temp_buffers`
  - `work_mem`
  - `checkpoint_timeout`
  - `effective_cache_size`
  - `fsync`
  - `commit_delay`
- Параметры должны быть подобраны в соответствии со сценарием OLTP:

  50 одновременных пользователей, 2 сессий на каждого; каждая сессия инициирует до 9 транзакций на запись размером 8КБ; обеспечить максимальную производительность.

- Директория WAL файлов: `$PGDATA/pg_wal`
- Формат лог-файлов: `.log`
- Уровень сообщений лога: `WARNING`
- Дополнительно логировать: завершение сессий и продолжительность выполнения команд

### Этап 3. Дополнительные табличные пространства и наполнение базы

- Создать новое табличное пространство для индексов: `$HOME/amh13`
- На основе `template1` создать новую базу: `longblueroad`
- Создать новую роль, предоставить необходимые права, разрешить подключение к базе.
- От имени новой роли (не администратора) произвести наполнение ВСЕХ созданных баз тестовыми наборами данных. ВСЕ табличные пространства должны использоваться по назначению.
- Вывести список всех табличных пространств кластера и содержащиеся в них объекты.
