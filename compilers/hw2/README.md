# ДЗ 2

Вариант: `17`

Регулярное выражение: `a(a|b)*b(b|c)*c`

## Выполнение

### Недетерминированный конечный автомат

Построим недетерминированный конечный автомат:

![nfa.png](nfa.png)

По частям:

- `a`: Символ `a`. Совокупность 1 и 2 состояний
- `(a|b)*`: Последовательность (возможно, нулевой длины) символов `a`, `b`. Совокупность состояний 2 - 9.
- `b`: Символ `b`. Совокупность 9 и 10 состояний
- `(b|c)*`: Последовательность (возможно, нулевой длины) символов `b`, `c`. Совокупность состояний 10 - 17.
- `c`: Символ `c`. Совокупность 17 и 18 состояний.

По общему виду видно, что здесь подразумеваются строки, начинающиеся с a, имеющие в середине b и заканчивающиеся на c, при том между указанными a и b может быть любое кол-во a/b, между указанными b и c может быть любое кол-во b/c.

### Детерминированный конечный автомат

Далее, построим ДКА по полученному на предыдущем этапе НКА.

Начальное состояние - `1`, начнем с него. По пути будем заполнять таблицу.

- Шаг 1

    `ε-closure(1) = {1}` (State 1)

- Шаг 2

    `Move({1}, a) = {2}`

    `ε-closure({2}) = {2, 3, 4, 5, 9}` (State 2)

    `Move({1}, b)` перехода нет

    `Move({1}, c)` перехода нет

- Шаг 3:

    `Move({2, 3, 4, 5, 9}, a) = {6}`

    `ε-closure({6}) = {3, 4, 5, 6, 8, 9}` (State 3)

    `Move({2, 3, 4, 5, 9}, b) = {7}`

    `ε-closure({7}) = {3, 4, 5, 7, 8, 9}` (State 4)

    `Move({2, 3, 4, 5, 9}, c)` перехода нет

- Шаг 4:

    `Move({3, 4, 5, 6, 8, 9}, a) = {6}`

    `ε-closure({6}) = {3, 4, 5, 6, 8, 9}` (такое состояние уже есть)

    `Move{3, 4, 5, 6, 8, 9}, b) = {7, 10}`

    `ε-closure({7, 10}) = {3, 4, 5, 7, 8, 9, 11, 12, 13, 17}` (State 5)

    `Move({3, 4, 5, 6, 8, 9}, c)` перехода нет

- Шаг 5:

    `Move({3, 4, 5, 7, 8, 9}, a) = {6}`

    `ε-closure({6}) = {3, 4, 5, 6, 8, 9}` (такое состояние уже есть)

    `Move({3, 4, 5, 7, 8, 9}, b) = {7, 10}`

    `ε-closure({7, 10}) = {3, 4, 5, 7, 8, 9, 11, 12, 13, 17}` (такое состояние уже есть)

    `Move({3, 4, 5, 7, 8, 9}, c)` перехода нет

- Шаг 6:

    `Move({3, 4, 5, 7, 8, 9, 11, 12, 13, 17}, a) = {6}`

    `ε-closure({6}) = {3, 4, 5, 6, 8, 9}` (такое состояние уже есть)

    `Move({3, 4, 5, 7, 8, 9, 11, 12, 13, 17}, b) = {7, 10, 14}`

    `ε-closure({7, 10, 14}) = {3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}` (State 6)

    `Move({3, 4, 5, 7, 8, 9, 11, 12, 13, 17}, c) = {15}

    `ε-closure({15}) = {11, 12, 13, 15, 16, 17}` (State 7)

- Шаг 7:

    `Move({3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}, a) = {6}`

    `ε-closure({6}) = {3, 4, 5, 6, 8, 9}` (такое состояние уже есть)

    `Move({3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}, b) = {7, 10, 14}`

    `ε-closure({7, 10, 14}) = {3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}` (такое состояние уже есть)

    `Move({3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}, c) = {15, 18}`

    `ε-closure({15, 18}) = {11, 12, 13, 15, 16, 17, 18}` (State 8)

- Шаг 8:

    `Move({11, 12, 13, 15, 16, 17}, a)` переходов нет

    `Move({11, 12, 13, 15, 16, 17}, b) = {14}`

    `ε-closure({14}) = {11, 12, 13, 14, 16, 17}` (State 9)

    `Move({11, 12, 13, 15, 16, 17}, c) = {15, 18}`

    `ε-closure({15, 18}) = {11, 12, 13, 15, 16, 17, 18}` (такое состояние уже есть)

- Шаг 9:

    `Move({11, 12, 13, 15, 16, 17, 18}, a)` переходов нет

    `Move({11, 12, 13, 15, 16, 17, 18}, b) = {14}`

    `ε-closure({14}) = {11, 12, 13, 14, 16, 17}` (такое состояние уже есть)

    `Move({11, 12, 13, 15, 16, 17, 18}, c) = {15, 18}`

    `ε-closure({15, 18}) = {11, 12, 13, 15, 16, 17, 18}` (такое состояние уже есть)

- Шаг 10:

    `Move({11, 12, 13, 14, 16, 17}, a)` переходов нет

    `Move({11, 12, 13, 14, 16, 17}, b) = {14}`

    `ε-closure({14}) = {11, 12, 13, 14, 16, 17}` (такое состояние уже есть)

    `Move({11, 12, 13, 14, 16, 17}, c) = {15, 18}`

    `ε-closure({15, 18}) = {11, 12, 13, 15, 16, 17, 18}` (такое состояние уже есть)

Таблица:

| Состояние | $a$ | $b$ | $c$ |
|-----------|-----|-----|-----|
| `{1}` | `{2, 3, 4, 5, 9}` | -  | - |
| `{2, 3, 4, 5, 9}` | `{3, 4, 5, 6, 8, 9}` | `{3, 4, 5, 7, 8, 9}` | - |
| `{3, 4, 5, 6, 8, 9}` | `{3, 4, 5, 6, 8, 9}` | `{3, 4, 5, 7, 8, 9, 11, 12, 13, 17}` | - |
| `{3, 4, 5, 7, 8, 9}` | `{3, 4, 5, 6, 8, 9}` | `{3, 4, 5, 7, 8, 9, 11, 12, 13, 17}` | - |
| `{3, 4, 5, 7, 8, 9, 11, 12, 13, 17}` | `{3, 4, 5, 6, 8, 9}` | `{3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}` | `{11, 12, 13, 15, 16, 17}` |
| `{3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}` | `{3, 4, 5, 6, 8, 9}` | `{3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 16, 17}` | `{11, 12, 13, 15, 16, 17, 18}` |
| `{11, 12, 13, 15, 16, 17}` | - | `{11, 12, 13, 14, 16, 17}` | `{11, 12, 13, 15, 16, 17, 18}` |
| (o) `{11, 12, 13, 15, 16, 17, 18}` | - | `{11, 12, 13, 14, 16, 17}` | `{11, 12, 13, 15, 16, 17, 18}` |
| `{11, 12, 13, 14, 16, 17}` | - | `{11, 12, 13, 14, 16, 17}` | `{11, 12, 13, 15, 16, 17, 18}` |
